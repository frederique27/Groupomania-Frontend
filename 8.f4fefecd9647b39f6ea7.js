(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"8zrg":function(e,t,i){"use strict";i.r(t),i.d(t,"ProfileModule",function(){return g});var n=i("PCNd"),o=i("tyNb"),r=i("T5gh"),c=i("3Pt+"),l=i("fXoL"),b=i("Aso2"),s=i("lGQG"),p=i("ofXK");function a(e,t){if(1&e){const e=l.Ob();l.Nb(0,"div",1),l.Nb(1,"form",2),l.Nb(2,"div",3),l.Nb(3,"h5"),l.mc(4),l.Xb(5,"titlecase"),l.Mb(),l.Mb(),l.Lb(6,"hr"),l.Nb(7,"div",3),l.Nb(8,"div",4),l.Nb(9,"label",5),l.Lb(10,"img",6),l.Nb(11,"div",7),l.Nb(12,"p",8),l.Ub("click",function(){return l.hc(e),l.gc(15).click()}),l.mc(13," Changer ma photo"),l.Mb(),l.Mb(),l.Mb(),l.Nb(14,"input",9,10),l.Ub("change",function(t){return l.hc(e),l.Wb().detectFiles(t.target.files)}),l.Mb(),l.Mb(),l.Nb(16,"div",11),l.Nb(17,"div",12),l.Nb(18,"div",3),l.Nb(19,"div",11),l.Nb(20,"label"),l.mc(21,"Username"),l.Mb(),l.Mb(),l.Nb(22,"div",11),l.Nb(23,"p"),l.mc(24),l.Xb(25,"titlecase"),l.Mb(),l.Mb(),l.Mb(),l.Nb(26,"div",3),l.Nb(27,"div",11),l.Nb(28,"label"),l.mc(29,"Email"),l.Mb(),l.Mb(),l.Nb(30,"div",11),l.Nb(31,"p"),l.mc(32),l.Mb(),l.Mb(),l.Mb(),l.Mb(),l.Mb(),l.Mb(),l.Lb(33,"hr"),l.Nb(34,"div",3),l.Nb(35,"button",13),l.Ub("click",function(){l.hc(e);const t=l.Wb();return t.deleteUser(t.user)}),l.mc(36," Supprimer mon compte "),l.Mb(),l.Mb(),l.Mb(),l.Mb()}if(2&e){const e=l.Wb();l.Ab(4),l.nc(l.Yb(5,4,e.user.name)),l.Ab(6),l.cc("src",e.user.profilePic?e.user.profilePic:"../../../assets/noprofilepic.jpg",l.jc),l.Ab(14),l.nc(l.Yb(25,6,e.user.username)),l.Ab(8),l.nc(e.user.email)}}let f=(()=>{class e{constructor(e,t,i){this.formBuilder=e,this.profileService=t,this.authService=i}ngOnInit(){this.getProfile(),this.profilePic=this.formBuilder.group({profilePic:["",c.k.required]})}getProfile(){this.profileService.getProfile().subscribe({next:e=>this.user=e,error:e=>console.error(e)})}detectFiles(e){this.file=e.item(0),console.log(this.file),this.profileService.editPhoto(this.file).subscribe({next:e=>this.getProfile(),error:e=>console.error(e)})}deleteUser(){this.profileService.deleteUser().subscribe(()=>{this.authService.signOutUser()})}}return e.\u0275fac=function(t){return new(t||e)(l.Kb(c.b),l.Kb(b.a),l.Kb(s.a))},e.\u0275cmp=l.Eb({type:e,selectors:[["app-profile"]],decls:1,vars:1,consts:[["class","container-fluid emp-profile",4,"ngIf"],[1,"container-fluid","emp-profile"],["method","post"],[1,"row"],[1,"col-md-4"],["for","profilePicture",1,"profile-img"],["alt","Photo profil de l'utilisateur",3,"src"],["tabindex","0",1,"file","btn","btn-lg","btn-primary"],["id","profileP","aria-label","Bouton changer de photo de profil",3,"click"],["type","file",2,"display","none",3,"change"],["profilePicture",""],[1,"col-md-6"],[1,"profile-head"],["type","submit","name","btnAddMore","aria-label","Bouton supprimer mon compte",1,"btn",3,"click"]],template:function(e,t){1&e&&l.lc(0,a,37,8,"div",0),2&e&&l.cc("ngIf",t.user)},directives:[p.l,c.l,c.h,c.i],pipes:[p.o],styles:["body[_ngcontent-%COMP%]{background:-webkit-linear-gradient(left,#3931af,#00c6ff)}.emp-profile[_ngcontent-%COMP%]{padding:3%;margin-top:3%;border-radius:.5rem;background:#fff}.profile-img[_ngcontent-%COMP%]{text-align:center}.profile-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:70%;height:100%}.profile-img[_ngcontent-%COMP%]   .file[_ngcontent-%COMP%]{position:relative;overflow:hidden;margin-top:-10%;width:70%;border:none;border-radius:0;font-size:15px;background:rgba(33,37,41,.7215686274509804)}.profile-img[_ngcontent-%COMP%]   .file[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;opacity:0;right:0;top:0}.profile-head[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{color:#333}.profile-head[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:#0062cc}h5[_ngcontent-%COMP%]{text-align:center}.row[_ngcontent-%COMP%]:last-of-type{justify-content:center}input[_ngcontent-%COMP%]:last-of-type{width:auto}#profileP[_ngcontent-%COMP%]{cursor:pointer;margin:0}.btn[_ngcontent-%COMP%]{max-width:205px}div[_ngcontent-%COMP%]:focus, input[_ngcontent-%COMP%]:focus{outline:1px dotted #000}@media screen and (max-width:769px){.profile-head[_ngcontent-%COMP%]{text-align:center}}"]}),e})();const d=[{path:"",canActivate:[r.a],component:f},{path:"users",canActivate:[r.a],component:f}];let u=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.Ib({type:e}),e.\u0275inj=l.Hb({providers:[r.a],imports:[[o.f.forChild(d)],o.f]}),e})(),g=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.Ib({type:e}),e.\u0275inj=l.Hb({providers:[],imports:[[u,n.a]]}),e})()}}]);