(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{rzq9:function(t,e,n){"use strict";n.r(e),n.d(e,"PostsModule",function(){return Y});var o=n("PCNd"),i=n("tyNb"),r=n("twK/"),c=n("X7FE"),s=n("fXoL"),a=n("jwUf"),l=n("lGQG"),u=n("P3Ni"),m=n("ofXK"),f=n("6NWb"),p=n("wMS7"),d=n("jhN1");const b=new s.r("Config for DOMPurify",{factory:()=>({}),providedIn:"root"}),g=new s.r("Hooks for DOMPurify",{factory:()=>[],providedIn:"root"}),h=new s.r("A function that sanitizes value for a CSS rule",{factory:()=>t=>t,providedIn:"root"}),y=p;let v=(()=>{class t{constructor(t,e,{defaultView:n},o){this.config=t,this.sanitizeStyle=e,this.domPurify=y(n),o.forEach(({name:t,hook:e})=>{this.domPurify.addHook(t,e)})}sanitize(t,e,n=this.config){if(t===s.I.SCRIPT)throw new Error("DOMPurify does not support SCRIPT context");return t===s.I.STYLE?this.sanitizeStyle(String(e)):this.domPurify.sanitize(String(e||""),n)}}return t.\u0275fac=function(e){return new(e||t)(s.Rb(b),s.Rb(h),s.Rb(m.c),s.Rb(g))},t.\u0275prov=s.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t.ngInjectableDef=Object(s.S)({factory:function(){return new t(Object(s.V)(b),Object(s.V)(h),Object(s.V)(m.c),Object(s.V)(g))},token:t,providedIn:"root"}),t})(),x=(()=>{class t{constructor(t,e){this.sanitizer=t,this.domSanitizer=e}transform(t,e=s.I.HTML,n){return this.bypassSecurityTrust(e,this.sanitizer.sanitize(e,t,n))}bypassSecurityTrust(t,e){switch(t){case s.I.HTML:return this.domSanitizer.bypassSecurityTrustHtml(e);case s.I.STYLE:return this.domSanitizer.bypassSecurityTrustStyle(e);case s.I.URL:return this.domSanitizer.bypassSecurityTrustUrl(e);case s.I.RESOURCE_URL:return this.domSanitizer.bypassSecurityTrustResourceUrl(e);default:return null}}}return t.\u0275fac=function(e){return new(e||t)(s.Kb(v),s.Kb(d.b))},t.\u0275pipe=s.Jb({name:"dompurify",type:t,pure:!0}),t})(),M=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.Ib({type:t}),t.\u0275inj=s.Hb({}),t})();const k=function(t){return{onLike:t}},w=function(t){return{onDislike:t}};function A(t,e){if(1&t){const t=s.Ob();s.Nb(0,"div",6),s.Ub("click",function(){s.hc(t);const n=e.$implicit;return s.Wb(3).getOnePost(n)}),s.Nb(1,"div",7),s.Nb(2,"div",8),s.Lb(3,"img",9),s.Nb(4,"div",10),s.Nb(5,"span",11),s.mc(6),s.Xb(7,"titlecase"),s.Mb(),s.Nb(8,"small",12),s.mc(9),s.Xb(10,"date"),s.Mb(),s.Mb(),s.Mb(),s.Mb(),s.Lb(11,"img",13),s.Nb(12,"div",14),s.Lb(13,"p",15),s.Xb(14,"dompurify"),s.Lb(15,"hr"),s.Nb(16,"div",16),s.Nb(17,"div",17),s.Lb(18,"fa-icon",18),s.Lb(19,"fa-icon",18),s.Lb(20,"fa-icon",19),s.Mb(),s.Mb(),s.Mb(),s.Mb()}if(2&t){const t=e.$implicit,n=s.Wb(3);s.Ab(3),s.cc("src",n.user.profilePic?n.user.profilePic:"../../../assets/noprofilepic.jpg",s.jc),s.Ab(3),s.nc(s.Yb(7,10,t.User.username)),s.Ab(3),s.oc("Publi\xe9 le ",s.Zb(10,12,t.createdAt,"dd/MM/yyyy"),""),s.Ab(2),s.cc("src",t.photo,s.jc),s.Ab(2),s.cc("innerHtml",s.Yb(14,15,t.textPost),s.ic),s.Ab(5),s.cc("icon",n.faThumbsUp)("ngClass",s.ec(17,k,1===t.likes)),s.Ab(1),s.cc("icon",n.faThumbsDown)("ngClass",s.ec(19,w,-1===t.likes)),s.Ab(1),s.cc("icon",n.faCommentAlt)}}function O(t,e){if(1&t&&(s.Nb(0,"div",4),s.lc(1,A,21,21,"div",5),s.Mb()),2&t){const t=s.Wb(2);s.Ab(1),s.cc("ngForOf",t.posts)}}function P(t,e){if(1&t&&(s.Nb(0,"div",1),s.Nb(1,"div",2),s.lc(2,O,2,1,"div",3),s.Mb(),s.Mb()),2&t){const t=s.Wb();s.Ab(2),s.cc("ngIf",!t.loading)}}let S=(()=>{class t{constructor(t,e,n,o){this.postsService=t,this.authService=e,this.likeService=n,this.router=o,this.faThumbsUp=r.d,this.faThumbsDown=r.c,this.faTrash=r.e,this.faCommentAlt=r.b,this.user=new c.a}ngOnInit(){this.userId=this.authService.getUserId(),this.loading=!0,this.getPosts()}getPosts(){this.postsService.getPosts().subscribe(t=>{this.posts=t,this.loading=!1,console.log(t)},t=>{this.loading=!1})}getOnePost(t){this.router.navigate(["/posts",t.id])}getLikes(t){this.likeService.getLikes(t.id).subscribe({next:t=>this.likes=t,error:t=>console.error(t)})}}return t.\u0275fac=function(e){return new(e||t)(s.Kb(a.a),s.Kb(l.a),s.Kb(u.a),s.Kb(i.b))},t.\u0275cmp=s.Eb({type:t,selectors:[["app-post-list"]],decls:4,vars:4,consts:[["class","container mt-5 mb-5",4,"ngIf"],[1,"container","mt-5","mb-5"],[1,"row","d-flex","align-items-center","justify-content-center"],["class","col-md-6",4,"ngIf"],[1,"col-md-6"],["tabindex","0","class","card userInfo",3,"click",4,"ngFor","ngForOf"],["tabindex","0",1,"card","userInfo",3,"click"],[1,"d-flex","justify-content-between","p-2","px-2"],[1,"d-flex","flex-row","align-items-center"],["alt","Photo profil de l'auteur de la publication","width","50",1,"rounded-circle","profilePic",3,"src"],[1,"d-flex","flex-column","ml-2"],[1,"font-weight-bold"],[1,"mr-2"],[1,"img-fluid",3,"src"],[1,"p-2"],[1,"text-justify",3,"innerHtml"],[1,"d-flex","justify-content-between","align-items-center"],[1,"d-flex","flex-row","icons","d-flex","align-items-center"],[1,"iconThumbs",3,"icon","ngClass"],[1,"iconThumbs",3,"icon"]],template:function(t,e){1&t&&(s.lc(0,P,3,1,"div",0),s.Nb(1,"pre"),s.mc(2),s.Xb(3,"json"),s.Mb()),2&t&&(s.cc("ngIf",e.user),s.Ab(2),s.nc(s.Yb(3,2,e.posts)))},directives:[m.l,m.k,f.a,m.j],pipes:[m.f,m.o,m.d,x],styles:["p[_ngcontent-%COMP%]{margin:10px 0}.card[_ngcontent-%COMP%]{border:none;margin-bottom:3rem;border-radius:7px}.profilePic[_ngcontent-%COMP%]{margin-right:10px}hr[_ngcontent-%COMP%]{color:#a09c9c;margin-top:4px;margin-bottom:8px}.muted-color[_ngcontent-%COMP%]{color:#a09c9c;font-size:13px}.icons[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:25px}.rounded-image[_ngcontent-%COMP%]{border-radius:50%!important;display:flex;justify-content:center;align-items:center;height:50px;width:50px}.name[_ngcontent-%COMP%]{font-weight:600}.status[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{margin-right:10px;color:#00f}.form-control[_ngcontent-%COMP%]{border-radius:26px}.fonts[_ngcontent-%COMP%]{position:absolute;right:13px;top:8px;color:#a09c9c}.form-control[_ngcontent-%COMP%]:focus{color:#495057;background-color:#fff;border-color:#8bbafe;outline:0;box-shadow:none}.iconThumbs[_ngcontent-%COMP%]{margin-right:10px;margin-left:5px;font-size:19px;color:rgb(77 78 84)}.userInfo[_ngcontent-%COMP%]{cursor:pointer}div[_ngcontent-%COMP%]:focus{outline:1px dotted #000}"]}),t})();var T=n("3Pt+");class C{constructor(){}}var N=n("PSD3"),_=n.n(N),L=n("fB2i");function I(t,e){if(1&t&&s.Lb(0,"img",11),2&t){const t=s.Wb();s.cc("src",t.photo,s.jc)}}const E=function(){return["emoticons advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table paste code help wordcount"]},D=function(t){return{menubar:!1,plugins:t,toolbar:"fontselect | emoticons | bullist | bold italic strikethrough backcolor"}};let R=(()=>{class t{constructor(t,e,n,o){this.formBuilder=t,this.postsService=e,this.router=n,this.authService=o,this.posts=new C}ngOnInit(){this.loading=!0,this.initForm()}initForm(){this.postForm=this.formBuilder.group({textPost:["",T.k.required],photo:""})}onSavePost(){this.loading=!0;const t=this.postForm.get("textPost").value,e=this.authService.getUserId();this.postsService.createNewPost(t,this.file,e).subscribe(t=>{this.loading=!1,this.router.navigate(["/posts"]),_.a.fire({title:"Post publi\xe9 !",text:"Vous allez \xeatre redirig\xe9 !",icon:"success",timer:2e3})})}detectFiles(t){const e=t.item(0);console.log(e),this.file=t.item(0)}}return t.\u0275fac=function(e){return new(e||t)(s.Kb(T.b),s.Kb(a.a),s.Kb(i.b),s.Kb(l.a))},t.\u0275cmp=s.Eb({type:t,selectors:[["app-post-form"]],decls:17,vars:7,consts:[[1,"col-sm-8","formContent"],["tabindex","0","id","xBtn","routerLink","/posts"],[3,"formGroup","ngSubmit"],[1,"form-group"],["apiKey","u0eog1hcputib65bhuf63vh2mudkoemqvakn6qqcqfsotg0b","formControlName","textPost",1,"form-control",3,"init"],["id","formNewPost"],["type","file",1,"form-control",2,"display","none",3,"change"],["fileInput",""],["type","button","aria-label","Bouton choisir une image",1,"btn",3,"click"],["style","max-height: 100px;display:block;margin-top:10px",3,"src",4,"ngIf"],["aria-label","Bouton publier","type","submit",1,"btn",3,"disabled"],[2,"max-height","100px","display","block","margin-top","10px",3,"src"]],template:function(t,e){if(1&t){const t=s.Ob();s.Nb(0,"div",0),s.Nb(1,"div",1),s.Nb(2,"p"),s.mc(3,"x"),s.Mb(),s.Mb(),s.Nb(4,"h2"),s.mc(5,"Exprimez-vous..."),s.Mb(),s.Nb(6,"form",2),s.Ub("ngSubmit",function(){return e.onSavePost()}),s.Nb(7,"div",3),s.Lb(8,"editor",4),s.Mb(),s.Nb(9,"div",5),s.Nb(10,"input",6,7),s.Ub("change",function(t){return e.detectFiles(t.target.files)}),s.Mb(),s.Nb(12,"button",8),s.Ub("click",function(){return s.hc(t),s.gc(11).click()}),s.mc(13," Choisir une image"),s.Mb(),s.lc(14,I,1,1,"img",9),s.Nb(15,"button",10),s.mc(16,"Publier "),s.Mb(),s.Mb(),s.Mb(),s.Mb()}2&t&&(s.Ab(6),s.cc("formGroup",e.postForm),s.Ab(2),s.cc("init",s.ec(5,D,s.dc(4,E))),s.Ab(6),s.cc("ngIf",e.photo),s.Ab(1),s.cc("disabled",e.postForm.invalid))},directives:[i.c,T.l,T.h,T.d,L.a,T.g,T.c,m.l],styles:["textarea.form-control[_ngcontent-%COMP%]{min-height:200px;margin-bottom:20px}#formNewPost[_ngcontent-%COMP%]{display:flex;justify-content:space-between}#xBtn[_ngcontent-%COMP%]{width:28px;font-size:18px;border:1px solid #fff;border-radius:50%;position:absolute;top:2px;right:2px;background-color:rgb(54 69 156)!important;color:#fff;cursor:pointer}#xBtn[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;top:-1.5px}#xBtn[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .formContent[_ngcontent-%COMP%]{position:relative}button[_ngcontent-%COMP%]:focus, div[_ngcontent-%COMP%]:focus{outline:1px dotted #000}"]}),t})();var F=n("T5gh"),z=n("wHSu"),U=n("mxDV");const j=function(t){return{onLike:t}},H=function(t){return{onDislike:t}};function B(t,e){if(1&t){const t=s.Ob();s.Nb(0,"div",22),s.Nb(1,"a",23),s.Ub("click",function(e){s.hc(t);const n=s.Wb(2);return n.onLikePost(n.post),e.preventDefault()}),s.Lb(2,"fa-icon",24),s.Mb(),s.Nb(3,"a",25),s.Ub("click",function(e){s.hc(t);const n=s.Wb(2);return n.onDislikePost(n.post),e.preventDefault()}),s.Lb(4,"fa-icon",24),s.Mb(),s.Mb()}if(2&t){const t=s.Wb(2);s.Ab(1),s.cc("disabled",-1===t.post.likes),s.Ab(1),s.cc("icon",t.faThumbsUp)("ngClass",s.ec(6,j,1==t.likes.likes)),s.Ab(1),s.cc("disabled",1===t.post.likes),s.Ab(1),s.cc("icon",t.faThumbsDown)("ngClass",s.ec(8,H,t.likes.userId===t.post.User.id))}}function W(t,e){if(1&t&&(s.Nb(0,"div",26),s.Nb(1,"div",27),s.Lb(2,"img",28),s.Nb(3,"div",7),s.Nb(4,"span",29),s.mc(5),s.Xb(6,"titlecase"),s.Nb(7,"small"),s.mc(8),s.Xb(9,"date"),s.Mb(),s.Mb(),s.Nb(10,"small",30),s.mc(11),s.Mb(),s.Mb(),s.Mb(),s.Mb()),2&t){const t=e.$implicit,n=s.Wb(2);s.Ab(2),s.cc("src",n.user.profilePic?n.user.profilePic:"../../../assets/noprofilepic.jpg",s.jc),s.Ab(3),s.oc("",s.Yb(6,4,t.user.username)," "),s.Ab(3),s.oc(" Publi\xe9 le ",s.Zb(9,6,t.createdAt,"dd/MM/yyyy"),""),s.Ab(3),s.nc(t.textComment)}}function K(t,e){if(1&t){const t=s.Ob();s.Nb(0,"div",1),s.Nb(1,"div",2),s.Nb(2,"div",3),s.Nb(3,"div",4),s.Nb(4,"div",5),s.Nb(5,"div",6),s.Nb(6,"div",7),s.Nb(7,"span",8),s.mc(8),s.Xb(9,"titlecase"),s.Mb(),s.Nb(10,"small",9),s.mc(11),s.Xb(12,"date"),s.Mb(),s.Mb(),s.Mb(),s.Nb(13,"div",10),s.Nb(14,"a",11),s.Ub("click",function(){s.hc(t);const e=s.Wb();return e.onDeletePost(e.post)}),s.Lb(15,"fa-icon",12),s.Mb(),s.Mb(),s.Mb(),s.Lb(16,"img",13),s.Nb(17,"div",14),s.Lb(18,"p",15),s.Xb(19,"dompurify"),s.Lb(20,"hr"),s.Nb(21,"div",16),s.lc(22,B,5,10,"div",17),s.Mb(),s.Lb(23,"hr"),s.Nb(24,"form",18),s.Ub("keydown",function(e){s.hc(t);const n=s.Wb();return n.submitComment(e,n.post)}),s.Nb(25,"div",19),s.Lb(26,"input",20),s.Mb(),s.Mb(),s.lc(27,W,12,9,"div",21),s.Mb(),s.Mb(),s.Mb(),s.Mb(),s.Mb()}if(2&t){const t=s.Wb();s.Ab(8),s.nc(s.Yb(9,8,t.post.User.username)),s.Ab(3),s.oc("Publi\xe9 le ",s.Zb(12,10,t.post.createdAt,"dd/MM/yyyy"),""),s.Ab(4),s.cc("icon",t.faTrash),s.Ab(1),s.cc("src",t.post.photo,s.jc),s.Ab(2),s.cc("innerHtml",s.Yb(19,13,t.post.textPost),s.ic),s.Ab(4),s.cc("ngIf",t.likes),s.Ab(2),s.cc("formGroup",t.commentForm),s.Ab(3),s.cc("ngForOf",t.comments)}}let G=(()=>{class t{constructor(t,e,n,o,i,s,a){this.postsService=t,this.authService=e,this.likeService=n,this.commentService=o,this.formBuilder=i,this.route=s,this.location=a,this.faThumbsUp=r.d,this.faThumbsDown=r.c,this.faTrash=r.e,this.faEdit=z.b,this.likes=[],this.user=new c.a}ngOnInit(){this.getOnePost(),this.getLikes(),this.initForm(),this.getComments(),this.postId=this.route.snapshot.paramMap.get("id"),this.userId=this.authService.getUserId()}getOnePost(){this.route.params.forEach(t=>{this.postsService.getPostById(t.id).subscribe(t=>{this.post=t,this.getLikes()})})}onDeletePost(t){this.postsService.deletePost(t.id).subscribe(()=>{_.a.fire("Supprim\xe9!","Post Supprim\xe9 !","warning"),this.location.back()})}onLikePost(t){const e={postId:t.id,likes:1,userId:this.authService.getUserId()};this.likeService.likePost(e,this.postId).subscribe(()=>{this.getLikes()})}onDislikePost(t){this.likeService.likePost({postId:t.id,likes:-1},this.postId).subscribe(()=>{this.getLikes()})}getLikes(){this.likeService.getLikes(this.postId).subscribe({next:t=>this.likes=t,error:t=>console.error(t)})}initForm(){this.commentForm=this.formBuilder.group({textComment:["",T.k.required]})}submitComment(t,e){if(13===t.keyCode){const t=this.commentForm.get("textComment").value;this.commentService.newComment(t,e.id).subscribe(()=>{this.commentForm.reset(),this.getComments()})}}getComments(){this.route.params.forEach(t=>{this.commentService.getComments(t.id).subscribe(t=>{this.comments=t,this.getOnePost()})})}}return t.\u0275fac=function(e){return new(e||t)(s.Kb(a.a),s.Kb(l.a),s.Kb(u.a),s.Kb(U.a),s.Kb(T.b),s.Kb(i.a),s.Kb(m.h))},t.\u0275cmp=s.Eb({type:t,selectors:[["app-one-post"]],decls:4,vars:4,consts:[["class","container mt-5 mb-5",4,"ngIf"],[1,"container","mt-5","mb-5"],[1,"row","d-flex","align-items-center","justify-content-center"],[1,"col-md-6"],[1,"card"],[1,"d-flex","justify-content-between","p-2","px-2"],[1,"d-flex","flex-row","align-items-center","userInfo"],[1,"d-flex","flex-column","ml-2"],[1,"font-weight-bold"],[1,"mr-2"],["tabindex","0",1,"d-flex","flex-row","mt-1"],["id","iconTrash",3,"click"],[3,"icon"],[1,"img-fluid",3,"src"],[1,"p-2"],[1,"text-justify",3,"innerHtml"],[1,"d-flex","justify-content-between","align-items-center"],["class","d-flex flex-row icons d-flex align-items-center",4,"ngIf"],[3,"formGroup","keydown"],[1,"comment-input"],["type","text","formControlName","textComment","placeholder","Exprimez-vous","aria-label","Ecrire un commentaire",1,"form-control"],["class","comments",4,"ngFor","ngForOf"],[1,"d-flex","flex-row","icons","d-flex","align-items-center"],["tabindex","0","aria-label","Bouton aimer la publication",3,"disabled","click"],[1,"iconThumbs",3,"icon","ngClass"],["tabindex","0","aria-label","Bouton ne pas aimer la publication",3,"disabled","click"],[1,"comments"],[1,"d-flex","flex-row","mb-2"],["width","40",1,"rounded-image","profilePic",3,"src"],[1,"name"],[1,"comment-text"]],template:function(t,e){1&t&&(s.lc(0,K,28,15,"div",0),s.Nb(1,"pre"),s.mc(2),s.Xb(3,"json"),s.Mb()),2&t&&(s.cc("ngIf",e.post),s.Ab(2),s.nc(s.Yb(3,2,e.post)))},directives:[m.l,f.a,T.l,T.h,T.d,T.a,T.g,T.c,m.k,m.j],pipes:[m.f,m.o,m.d,x],styles:["p[_ngcontent-%COMP%]{margin:10px 0}.card[_ngcontent-%COMP%]{border:none;margin-bottom:3rem;border-radius:7px}.profilePic[_ngcontent-%COMP%]{margin-right:10px}hr[_ngcontent-%COMP%]{color:#a09c9c;margin-top:4px;margin-bottom:8px}.muted-color[_ngcontent-%COMP%]{color:#a09c9c;font-size:13px}.icons[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:25px}.rounded-image[_ngcontent-%COMP%]{border-radius:50%!important;display:flex;justify-content:center;align-items:center;height:50px;width:50px}.name[_ngcontent-%COMP%]{font-weight:600}.comment-text[_ngcontent-%COMP%]{font-size:12px}.status[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{margin-right:10px;color:#00f}.form-control[_ngcontent-%COMP%]{border-radius:26px}.comment-input[_ngcontent-%COMP%]{position:relative}.fonts[_ngcontent-%COMP%]{position:absolute;right:13px;top:8px;color:#a09c9c}.form-control[_ngcontent-%COMP%]:focus{color:#495057;background-color:#fff;border-color:#8bbafe;outline:0;box-shadow:none}#iconTrash[_ngcontent-%COMP%]{color:rgb(30 31 31)}#iconTrash[_ngcontent-%COMP%], .iconThumbs[_ngcontent-%COMP%]{font-size:20px;cursor:pointer}.iconThumbs[_ngcontent-%COMP%]{margin-right:10px;margin-left:10px;color:rgb(77 78 84)}#iconEdit[_ngcontent-%COMP%]{color:#000;text-decoration:none;font-size:20px;cursor:pointer}.onLike[_ngcontent-%COMP%]{color:green!important}.onDislike[_ngcontent-%COMP%]{color:red!important}.comments[_ngcontent-%COMP%]{margin-top:10px}a[_ngcontent-%COMP%]:focus, div[_ngcontent-%COMP%]:focus, input[_ngcontent-%COMP%]:focus{outline:1px dotted #000}"]}),t})();const q=[{path:"",canActivate:[F.a],component:S},{path:"new",canActivate:[F.a],component:R},{path:":id/like",canActivate:[F.a],component:G},{path:":id/comment",canActivate:[F.a],component:G},{path:":id",canActivate:[F.a],component:G}];let X=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.Ib({type:t}),t.\u0275inj=s.Hb({providers:[F.a],imports:[[i.f.forChild(q)],i.f]}),t})(),Y=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.Ib({type:t}),t.\u0275inj=s.Hb({providers:[],imports:[[X,o.a,M,f.b]]}),t})()},wMS7:function(t,e,n){t.exports=function(){"use strict";var t=Object.hasOwnProperty,e=Object.setPrototypeOf,n=Object.isFrozen,o=Object.getPrototypeOf,i=Object.getOwnPropertyDescriptor,r=Object.freeze,c=Object.seal,s=Object.create,a="undefined"!=typeof Reflect&&Reflect,l=a.apply,u=a.construct;l||(l=function(t,e,n){return t.apply(e,n)}),r||(r=function(t){return t}),c||(c=function(t){return t}),u||(u=function(t,e){return new(Function.prototype.bind.apply(t,[null].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(e))))});var m,f=k(Array.prototype.forEach),p=k(Array.prototype.pop),d=k(Array.prototype.push),b=k(String.prototype.toLowerCase),g=k(String.prototype.match),h=k(String.prototype.replace),y=k(String.prototype.indexOf),v=k(String.prototype.trim),x=k(RegExp.prototype.test),M=(m=TypeError,function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return u(m,e)});function k(t){return function(e){for(var n=arguments.length,o=Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return l(t,e,o)}}function w(t,o){e&&e(t,null);for(var i=o.length;i--;){var r=o[i];if("string"==typeof r){var c=b(r);c!==r&&(n(o)||(o[i]=c),r=c)}t[r]=!0}return t}function A(e){var n=s(null),o=void 0;for(o in e)l(t,e,[o])&&(n[o]=e[o]);return n}function O(t,e){for(;null!==t;){var n=i(t,e);if(n){if(n.get)return k(n.get);if("function"==typeof n.value)return k(n.value)}t=o(t)}return function(t){return console.warn("fallback value for",t),null}}var P=r(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),S=r(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),T=r(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),C=r(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),N=r(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),_=r(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),L=r(["#text"]),I=r(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),E=r(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),D=r(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),R=r(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),F=c(/\{\{[\s\S]*|[\s\S]*\}\}/gm),z=c(/<%[\s\S]*|[\s\S]*%>/gm),U=c(/^data-[\-\w.\u00B7-\uFFFF]/),j=c(/^aria-[\-\w]+$/),H=c(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),B=c(/^(?:\w+script|data):/i),W=c(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function G(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var q=function(){return"undefined"==typeof window?null:window},X=function(t,e){if("object"!==(void 0===t?"undefined":K(t))||"function"!=typeof t.createPolicy)return null;var n=null,o="data-tt-policy-suffix";e.currentScript&&e.currentScript.hasAttribute(o)&&(n=e.currentScript.getAttribute(o));var i="dompurify"+(n?"#"+n:"");try{return t.createPolicy(i,{createHTML:function(t){return t}})}catch(r){return console.warn("TrustedTypes policy "+i+" could not be created."),null}};return function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q(),n=function(e){return t(e)};if(n.version="2.2.8",n.removed=[],!e||!e.document||9!==e.document.nodeType)return n.isSupported=!1,n;var o=e.document,i=e.document,c=e.DocumentFragment,s=e.HTMLTemplateElement,a=e.Node,l=e.Element,u=e.NodeFilter,m=e.NamedNodeMap,k=void 0===m?e.NamedNodeMap||e.MozNamedAttrMap:m,Y=e.Text,V=e.Comment,$=e.DOMParser,Z=e.trustedTypes,J=l.prototype,Q=O(J,"cloneNode"),tt=O(J,"nextSibling"),et=O(J,"childNodes"),nt=O(J,"parentNode");if("function"==typeof s){var ot=i.createElement("template");ot.content&&ot.content.ownerDocument&&(i=ot.content.ownerDocument)}var it=X(Z,o),rt=it&&Dt?it.createHTML(""):"",ct=i.implementation,st=i.createNodeIterator,at=i.createDocumentFragment,lt=o.importNode,ut={};try{ut=A(i).documentMode?i.documentMode:{}}catch(de){}var mt={};n.isSupported="function"==typeof nt&&ct&&void 0!==ct.createHTMLDocument&&9!==ut;var ft=F,pt=z,dt=U,bt=j,gt=B,ht=W,yt=H,vt=null,xt=w({},[].concat(G(P),G(S),G(T),G(N),G(L))),Mt=null,kt=w({},[].concat(G(I),G(E),G(D),G(R))),wt=null,At=null,Ot=!0,Pt=!0,St=!1,Tt=!1,Ct=!1,Nt=!1,_t=!1,Lt=!1,It=!1,Et=!0,Dt=!1,Rt=!0,Ft=!0,zt=!1,Ut={},jt=w({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Ht=null,Bt=w({},["audio","video","img","source","image","track"]),Wt=null,Kt=w({},["alt","class","for","id","label","name","pattern","placeholder","summary","title","value","style","xmlns"]),Gt="http://www.w3.org/1998/Math/MathML",qt="http://www.w3.org/2000/svg",Xt="http://www.w3.org/1999/xhtml",Yt=Xt,Vt=null,$t=i.createElement("form"),Zt=function(t){Vt&&Vt===t||(t&&"object"===(void 0===t?"undefined":K(t))||(t={}),t=A(t),vt="ALLOWED_TAGS"in t?w({},t.ALLOWED_TAGS):xt,Mt="ALLOWED_ATTR"in t?w({},t.ALLOWED_ATTR):kt,Wt="ADD_URI_SAFE_ATTR"in t?w(A(Kt),t.ADD_URI_SAFE_ATTR):Kt,Ht="ADD_DATA_URI_TAGS"in t?w(A(Bt),t.ADD_DATA_URI_TAGS):Bt,wt="FORBID_TAGS"in t?w({},t.FORBID_TAGS):{},At="FORBID_ATTR"in t?w({},t.FORBID_ATTR):{},Ot=!1!==t.ALLOW_ARIA_ATTR,Pt=!1!==t.ALLOW_DATA_ATTR,St=t.ALLOW_UNKNOWN_PROTOCOLS||!1,Ct=t.WHOLE_DOCUMENT||!1,Lt=t.RETURN_DOM||!1,Et=!1!==t.RETURN_DOM_IMPORT,Dt=t.RETURN_TRUSTED_TYPE||!1,_t=t.FORCE_BODY||!1,Rt=!1!==t.SANITIZE_DOM,Ft=!1!==t.KEEP_CONTENT,zt=t.IN_PLACE||!1,yt=t.ALLOWED_URI_REGEXP||yt,Yt=t.NAMESPACE||Yt,(Tt=t.SAFE_FOR_TEMPLATES||!1)&&(Pt=!1),(It=t.RETURN_DOM_FRAGMENT||!1)&&(Lt=!0),(Ut="USE_PROFILES"in t&&t.USE_PROFILES)&&(vt=w({},[].concat(G(L))),Mt=[],!0===Ut.html&&(w(vt,P),w(Mt,I)),!0===Ut.svg&&(w(vt,S),w(Mt,E),w(Mt,R)),!0===Ut.svgFilters&&(w(vt,T),w(Mt,E),w(Mt,R)),!0===Ut.mathMl&&(w(vt,N),w(Mt,D),w(Mt,R))),t.ADD_TAGS&&(vt===xt&&(vt=A(vt)),w(vt,t.ADD_TAGS)),t.ADD_ATTR&&(Mt===kt&&(Mt=A(Mt)),w(Mt,t.ADD_ATTR)),t.ADD_URI_SAFE_ATTR&&w(Wt,t.ADD_URI_SAFE_ATTR),Ft&&(vt["#text"]=!0),Ct&&w(vt,["html","head","body"]),vt.table&&(w(vt,["tbody"]),delete wt.tbody),r&&r(t),Vt=t)},Jt=w({},["mi","mo","mn","ms","mtext"]),Qt=w({},["foreignobject","desc","title","annotation-xml"]),te=w({},S);w(te,T),w(te,C);var ee=w({},N);w(ee,_);var ne=function(t){var e=nt(t);e&&e.tagName||(e={namespaceURI:Xt,tagName:"template"});var n=b(t.tagName),o=b(e.tagName);if(t.namespaceURI===qt)return e.namespaceURI===Xt?"svg"===n:e.namespaceURI===Gt?"svg"===n&&("annotation-xml"===o||Jt[o]):Boolean(te[n]);if(t.namespaceURI===Gt)return e.namespaceURI===Xt?"math"===n:e.namespaceURI===qt?"math"===n&&Qt[o]:Boolean(ee[n]);if(t.namespaceURI===Xt){if(e.namespaceURI===qt&&!Qt[o])return!1;if(e.namespaceURI===Gt&&!Jt[o])return!1;var i=w({},["title","style","font","a","script"]);return!ee[n]&&(i[n]||!te[n])}return!1},oe=function(t){d(n.removed,{element:t});try{t.parentNode.removeChild(t)}catch(de){try{t.outerHTML=rt}catch(de){t.remove()}}},ie=function(t,e){try{d(n.removed,{attribute:e.getAttributeNode(t),from:e})}catch(de){d(n.removed,{attribute:null,from:e})}if(e.removeAttribute(t),"is"===t&&!Mt[t])if(Lt||It)try{oe(e)}catch(de){}else try{e.setAttribute(t,"")}catch(de){}},re=function(t){var e=void 0,n=void 0;if(_t)t="<remove></remove>"+t;else{var o=g(t,/^[\r\n\t ]+/);n=o&&o[0]}var r=it?it.createHTML(t):t;if(Yt===Xt)try{e=(new $).parseFromString(r,"text/html")}catch(de){}e&&e.documentElement||((e=ct.createDocument(Yt,"template",null)).documentElement.innerHTML=r);var c=e.body||e.documentElement;return t&&n&&c.insertBefore(i.createTextNode(n),c.childNodes[0]||null),Ct?e.documentElement:c},ce=function(t){return st.call(t.ownerDocument||t,t,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT,function(){return u.FILTER_ACCEPT},!1)},se=function(t){return!(t instanceof Y||t instanceof V||"string"==typeof t.nodeName&&"string"==typeof t.textContent&&"function"==typeof t.removeChild&&t.attributes instanceof k&&"function"==typeof t.removeAttribute&&"function"==typeof t.setAttribute&&"string"==typeof t.namespaceURI&&"function"==typeof t.insertBefore)},ae=function(t){return"object"===(void 0===a?"undefined":K(a))?t instanceof a:t&&"object"===(void 0===t?"undefined":K(t))&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName},le=function(t,e,o){mt[t]&&f(mt[t],function(t){t.call(n,e,o,Vt)})},ue=function(t){var e=void 0;if(le("beforeSanitizeElements",t,null),se(t))return oe(t),!0;if(g(t.nodeName,/[\u0080-\uFFFF]/))return oe(t),!0;var o=b(t.nodeName);if(le("uponSanitizeElement",t,{tagName:o,allowedTags:vt}),!ae(t.firstElementChild)&&(!ae(t.content)||!ae(t.content.firstElementChild))&&x(/<[/\w]/g,t.innerHTML)&&x(/<[/\w]/g,t.textContent))return oe(t),!0;if(!vt[o]||wt[o]){if(Ft&&!jt[o]){var i=nt(t)||t.parentNode,r=et(t)||t.childNodes;if(r&&i)for(var c=r.length-1;c>=0;--c)i.insertBefore(Q(r[c],!0),tt(t))}return oe(t),!0}return t instanceof l&&!ne(t)?(oe(t),!0):"noscript"!==o&&"noembed"!==o||!x(/<\/no(script|embed)/i,t.innerHTML)?(Tt&&3===t.nodeType&&(e=h(e=t.textContent,ft," "),e=h(e,pt," "),t.textContent!==e&&(d(n.removed,{element:t.cloneNode()}),t.textContent=e)),le("afterSanitizeElements",t,null),!1):(oe(t),!0)},me=function(t,e,n){if(Rt&&("id"===e||"name"===e)&&(n in i||n in $t))return!1;if(Pt&&x(dt,e));else if(Ot&&x(bt,e));else{if(!Mt[e]||At[e])return!1;if(Wt[e]);else if(x(yt,h(n,ht,"")));else if("src"!==e&&"xlink:href"!==e&&"href"!==e||"script"===t||0!==y(n,"data:")||!Ht[t])if(St&&!x(gt,h(n,ht,"")));else if(n)return!1}return!0},fe=function(t){var e=void 0,o=void 0,i=void 0,r=void 0;le("beforeSanitizeAttributes",t,null);var c=t.attributes;if(c){var s={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Mt};for(r=c.length;r--;){var a=(e=c[r]).name,l=e.namespaceURI;if(o=v(e.value),i=b(a),s.attrName=i,s.attrValue=o,s.keepAttr=!0,s.forceKeepAttr=void 0,le("uponSanitizeAttribute",t,s),o=s.attrValue,!s.forceKeepAttr&&(ie(a,t),s.keepAttr))if(x(/\/>/i,o))ie(a,t);else{Tt&&(o=h(o,ft," "),o=h(o,pt," "));var u=t.nodeName.toLowerCase();if(me(u,i,o))try{l?t.setAttributeNS(l,a,o):t.setAttribute(a,o),p(n.removed)}catch(de){}}}le("afterSanitizeAttributes",t,null)}},pe=function t(e){var n=void 0,o=ce(e);for(le("beforeSanitizeShadowDOM",e,null);n=o.nextNode();)le("uponSanitizeShadowNode",n,null),ue(n)||(n.content instanceof c&&t(n.content),fe(n));le("afterSanitizeShadowDOM",e,null)};return n.sanitize=function(t,i){var r=void 0,s=void 0,l=void 0,u=void 0,m=void 0;if(t||(t="\x3c!--\x3e"),"string"!=typeof t&&!ae(t)){if("function"!=typeof t.toString)throw M("toString is not a function");if("string"!=typeof(t=t.toString()))throw M("dirty is not a string, aborting")}if(!n.isSupported){if("object"===K(e.toStaticHTML)||"function"==typeof e.toStaticHTML){if("string"==typeof t)return e.toStaticHTML(t);if(ae(t))return e.toStaticHTML(t.outerHTML)}return t}if(Nt||Zt(i),n.removed=[],"string"==typeof t&&(zt=!1),zt);else if(t instanceof a)1===(s=(r=re("\x3c!----\x3e")).ownerDocument.importNode(t,!0)).nodeType&&"BODY"===s.nodeName||"HTML"===s.nodeName?r=s:r.appendChild(s);else{if(!Lt&&!Tt&&!Ct&&-1===t.indexOf("<"))return it&&Dt?it.createHTML(t):t;if(!(r=re(t)))return Lt?null:rt}r&&_t&&oe(r.firstChild);for(var f=ce(zt?t:r);l=f.nextNode();)3===l.nodeType&&l===u||ue(l)||(l.content instanceof c&&pe(l.content),fe(l),u=l);if(u=null,zt)return t;if(Lt){if(It)for(m=at.call(r.ownerDocument);r.firstChild;)m.appendChild(r.firstChild);else m=r;return Et&&(m=lt.call(o,m,!0)),m}var p=Ct?r.outerHTML:r.innerHTML;return Tt&&(p=h(p,ft," "),p=h(p,pt," ")),it&&Dt?it.createHTML(p):p},n.setConfig=function(t){Zt(t),Nt=!0},n.clearConfig=function(){Vt=null,Nt=!1},n.isValidAttribute=function(t,e,n){Vt||Zt({});var o=b(t),i=b(e);return me(o,i,n)},n.addHook=function(t,e){"function"==typeof e&&(mt[t]=mt[t]||[],d(mt[t],e))},n.removeHook=function(t){mt[t]&&p(mt[t])},n.removeHooks=function(t){mt[t]&&(mt[t]=[])},n.removeAllHooks=function(){mt={}},n}()}()}}]);